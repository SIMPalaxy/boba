func swap = {
    let n m;
    m n
}

main =
    handle {
        flip! flip! xor-bool
    } with {
        flip! => {
            let x = false resume;
            true resume x swap append-list;
        };
        after => [] swap cons-list;
    }